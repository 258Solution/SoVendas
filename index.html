<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Card com Período e Calendário</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <style>
    body {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: #f0f2f5;
        font-family: Arial, sans-serif;
    }

    .card {
        width: 290px;
        background: #fff;
        border-radius: 11px;
        padding: 16px;
        box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        position: relative;
    }

    #btnPeriodo {
        margin-top: 10px;
        height:18px;
        width: 91%;
        padding: 10px 12px;
        border-radius: 7px;
        border: 1px solid #ddd;
        background: #fafafa;
        font-weight: 600;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        position: relative;
        margin-bottom: 10px;
    }

    #btnPeriodo::before {
        
        content: "PERÍODO";
        position: absolute;
        top: -10px;
        left: 16px;
        background: #fff;
        padding: 0 6px;
        font-size: 12px;
        color: #555;
        font-weight: bold;
    }

    .arrow {
        transition: transform 0.3s ease;
    }

    #periodoDrop {
        display: none;
        position: absolute;
        top: 80px;
        left: 0;
        width: 90%;
        flex-direction: column;
        border: 1px solid #ddd;
        border-radius: 10px;
        background: #fff;
        box-shadow: 0 6px 15px rgba(0,0,0,0.08);
        z-index: 10;
        padding: 8px 0;
    }

    .option {
        padding: 10px 16px;
        cursor: pointer;
        transition: background 0.2s;
    }

    .option:hover, .option.selected {
        background: #e0e0e0;
    }

    #btnCalendario {
        margin: 8px 16px;
        padding: 8px;
        cursor: pointer;
        border-radius: 6px;
        border: 1px solid #ccc;
        background: #f9f9f9;
        text-align: center;
    }

    #calendarInput {
        position: absolute;
        left: -9999px;
    }

    .secao {
        margin-top: 14px;
        margin-left: 6px;
    }

    .titulo { font-weight: bold; font-size: 14px; margin-bottom: 6px; }
    .valor { font-size: 17px; }
    .faturamento { color: #228B22; }
    .vendas { color: #007bff; }
    .conversao { color: #FFA500; }
    .ticket { color: #8A2BE2; }

</style>
</head>
<body>

<div class="card">

    <div id="btnPeriodo">
        <span id="periodoSelected">Hoje</span>
        <i class="bi bi-chevron-down arrow"></i>
    </div>

    <div id="periodoDrop">
        <div class="option selected" data-value="Hoje">Hoje</div>
        <div class="option" data-value="Ontem">Ontem</div>
        <div class="option" data-value="Últimos 7 dias">Últimos 7 dias</div>
        <div class="option" data-value="Últimos 30 dias">Últimos 30 dias</div>
        <div id="btnCalendario">Calendário</div>
        <input type="date" id="calendarInput">
    </div>

    <div class="secao">
        <div class="titulo">Faturamento</div>
        <div class="valor faturamento">100 MZN</div>
    </div>

    <div class="secao">
        <div class="titulo">Vendas Realizadas</div>
        <div class="valor vendas">50</div>
    </div>

    <div class="secao">
        <div class="titulo">Taxa De Conversão</div>
        <div class="valor conversao">6%</div>
    </div>

    <div class="secao">
        <div class="titulo">Ticket Médio</div>
        <div class="valor ticket">2 MZN</div>
    </div>

</div>

<script>
    const btnPeriodo = document.getElementById("btnPeriodo");
    const periodoDrop = document.getElementById("periodoDrop");
    const options = document.querySelectorAll(".option");
    const periodoSelected = document.getElementById("periodoSelected");
    const btnCalendario = document.getElementById("btnCalendario");
    const calendarInput = document.getElementById("calendarInput");

    let customDateSelected = false;

    // Abrir/fechar dropdown
    btnPeriodo.addEventListener("click", () => {
        periodoDrop.style.display = periodoDrop.style.display === "flex" ? "none" : "flex";
    });

    // Seleção de opções
    options.forEach(opt => {
        opt.addEventListener("click", () => {
            options.forEach(o => o.classList.remove("selected"));
            opt.classList.add("selected");
            periodoSelected.textContent = opt.dataset.value;
            customDateSelected = false;
            periodoDrop.style.display = "none";
        });
    });

    // Abrir calendário
    btnCalendario.addEventListener("click", () => {
        calendarInput.focus();
        calendarInput.click();
    });

    // Escolher data e substituir opções
    calendarInput.addEventListener("change", () => {
        const date = new Date(calendarInput.value);
        if(date.toString() !== "Invalid Date"){
            const day = String(date.getDate()).padStart(2,'0');
            const month = String(date.getMonth()+1).padStart(2,'0');
            const year = date.getFullYear();
            periodoSelected.textContent = `${day}/${month}/${year}`;
            customDateSelected = true;

            // Remove seleção das opções
            options.forEach(o => o.classList.remove("selected"));
            periodoDrop.style.display = "none";
        }
    });
</script>

</body>
</html>
